#+TITLE: 解决 evil 模式下，TAB 在 org-mode 失效的问题
#+DATE: 2022-09-23T18:34:07+0800
#+LASTMOD: 2022-09-23T19:13:41+0800
#+AUTHOR: Jiacai Liu
#+LANGUAGE: cn
#+EMAIL: jiacai2050+org@gmail.com
#+OPTIONS: toc:nil num:nil
#+STARTUP: content
#+TAGS[]: org evil

在 Org 中，TAB 被绑定在了 =org-cycle= ，可以非常方便的对某个标题下的内容折叠/展开，当时在 evil 的 normal 模式下，TAB 被绑定到了 =evil-jump-forward= ，这是和 [[https://zhuanlan.zhihu.com/p/270989474][Vim 对应的]]
- =Ctrl-i= jump forward to the next (newer) location.
- =Ctrl-o= to jump back to the previous (older) location.

同时，又由于在终端中， TAB 与 =C-i= 发送的是相同的 keycode 9（即 [[https://en.wikipedia.org/wiki/Tab_key][Character Tabulation]]），所以导致了上面的行为。

由于笔者大多数不会用到 evil 的 jump 功能，所以一种简单的修复就是直接关闭它：
#+begin_src elisp
(setq evil-want-C-i-jump nil)
#+end_src
注意一点：这个初始化需要在加载 evil 前执行。如果使用 =use-package= 可以使用下面的方式：
#+begin_src elisp
(use-package evil
  :custom ((evil-want-C-i-jump nil))
  :config (evil-mode))
#+end_src

如果希望保留 evil 的 jump 功能，可以尝试把 TAB 与 =C-i= 区分开
- [[https://emacs.stackexchange.com/questions/17509/how-to-distinguish-c-i-from-tab][key bindings - How to distinguish C-i from TAB? - Emacs Stack Exchange]]
- https://emacs.stackexchange.com/a/20290/16450

* 参考
- [[https://jeffkreeftmeijer.com/emacs-evil-org-tab/][“Fix” the tab key for visibility cycling in Org and Evil mode]]
